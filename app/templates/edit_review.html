{% extends "base.html" %} 

{% block content %}
<div class="max-w-2xl mx-auto">
  <div class="mb-12">
    <h1 class="text-3xl font-bold text-white tracking-tighter uppercase mb-2">Редактирование</h1>
    <div class="h-1 w-12 bg-white"></div>
  </div>

  <form action="/review/{{ review.id }}/edit" method="post" class="space-y-8">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div>
        <label class="block text-[10px] uppercase tracking-[0.2em] text-zinc-500 mb-2">Название книги</label>
        <input type="text" name="book_title" value="{{ review.book_title }}" required class="w-full bg-black border-b border-zinc-800 p-2 text-white focus:border-white outline-none transition text-sm" />
      </div>
      <div>
        <label class="block text-[10px] uppercase tracking-[0.2em] text-zinc-500 mb-2">Автор книги</label>
        <input type="text" name="author" value="{{ review.author }}" required class="w-full bg-black border-b border-zinc-800 p-2 text-white focus:border-white outline-none transition text-sm" />
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <div>
        <label class="block text-[10px] uppercase tracking-[0.2em] text-zinc-500 mb-2">Оценка (1-10)</label>
        <input type="number" name="rating" value="{{ review.rating }}" min="1" max="10" required class="w-full bg-black border-b border-zinc-800 p-2 text-white focus:border-white outline-none transition text-sm" />
      </div>
      <div>
        <label class="block text-[10px] uppercase tracking-[0.2em] text-zinc-500 mb-2">Статус</label>
        <select name="status" class="w-full bg-black border-b border-zinc-800 p-2 text-zinc-300 text-[10px] uppercase tracking-widest outline-none focus:border-white transition">
          <option value="Прочитано" {% if review.status == 'Прочитано' %}selected{% endif %}>Прочитано</option>
          <option value="Читаю сейчас" {% if review.status == 'Читаю сейчас' %}selected{% endif %}>Читаю сейчас</option>
          <option value="В планах" {% if review.status == 'В планах' %}selected{% endif %}>В планах</option>
        </select>
      </div>
    </div>

    <input type="hidden" name="cover_url" value="{{ review.cover_url }}" />
    <textarea name="description" class="hidden">{{ review.description }}</textarea>

    <div>
      <label class="block text-[10px] uppercase tracking-[0.2em] text-zinc-500 mb-2">Текст рецензии</label>
      <textarea name="text" rows="8" required class="w-full bg-zinc-950 border border-zinc-800 p-4 text-white focus:border-zinc-600 outline-none transition text-sm leading-relaxed">{{ review.text }}</textarea>
    </div>

    <div class="flex space-x-4 pt-6">
      <a href="/review/{{ review.id }}" class="flex-1 text-center bg-zinc-900 text-zinc-400 py-4 text-[10px] font-bold uppercase tracking-[0.2em] hover:bg-zinc-800 hover:text-white transition">Отмена</a>
      <button type="submit" class="flex-1 bg-white text-black py-4 text-[10px] font-black uppercase tracking-[0.3em] hover:bg-zinc-200 transition">Сохранить изменения</button>
    </div>
  </form>
</div>
{% endblock %}